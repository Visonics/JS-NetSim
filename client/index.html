<!--
Copyright (c) 2016 and beyond, Farrukh Shahzad
All rights reserved.

Redistribution in source and binary forms, with or without modification, are  NOT permitted.

Free for educational and research Use. Any commercial use requires copyright holder's permission and royalty agreement.


THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, 
THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS 
BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS 
OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, 
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

-->
<!DOCTYPE html>
<html style="width: 100%;height: 100%">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="icon" href="media/net_logo.PNG">
	<link href="http://fonts.googleapis.com/css?family=Oswald" rel="stylesheet" type="text/css">
	<link href='https://fonts.googleapis.com/css?family=Shadows+Into+Light' rel='stylesheet' type='text/css'>
    <!--<meta name="viewport" content="width=device-width, initial-scale=1">-->
    <title>NetSim 1.0 (2016)</title>

    <!-- Bootstrap core CSS -->
    <link href="node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="css/ie10-viewport-bug-workaround.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">

</head>

<body style="width: 100%; height: 100%;">
<div class="well well-xs header">
    <div class="row">
        <div class="col-sm-3">
            <span class="btn btn-primary btn-xs left_button subtitle"> Copyright (c) 2016 and beyond<br>Farrukh Shahzad, PhD and Omar Shaikh</span>
        </div>
        <div class="col-sm-6">
            <div class="btn btn-primary btn-md title">NetSim Interactive</div>
        </div>
        <div class="col-sm-3">
        <span>
        <a href="demo.html" target="_blank">
            <button type="button" class="btn btn-primary btn-xs right_button" data-toggle="tooltip"
                    data-placement="bottom"
                    title="Show & Tell, References and more..">About
            </button>
        </a>
            </span>
        <span>
        <input class="btn btn-primary btn-xs right_button" type="button" id="logout" value="Logout"
               onclick="logout('netsim.php');"/>
            </span>
        </div>
    </div>
</div>
<h2 id="graphTitle" style="margin-left: 30px;">  </h2>
<div class="row" id='papp' style="margin-left: 10px;width: 100%;height:100%">

    <div class="col-sm-7" style="height:98%">
        <div id="network" class="networkview">   </div>
    </div>
    <div class="col-sm-5" style="height:98%; overflow: auto">
        <ul class="nav nav-tabs">
            <li class="active"><a data-toggle="tab" href="#setting">Network</a></li>
            <li><a data-toggle="tab" href="#gen_control">Generate</a></li>
            <li><a data-toggle="tab" href="#node_control">Node</a></li>
            <li><a data-toggle="tab" href="#infodiv">Info</a></li>			
        </ul>

        <div class="tab-content">
            <div id="setting" class="tab-pane active">
				<h3>Topology Settings</h3>
                <form class="form-horizontal" role="form">
    				<div class="form-group form-group-sm text-center">
						<div class="col-xs-4">
						<input id="loadbutton" type="button" class="btn btn-danger btn-md" value="Load JSON" onclick="showModal()" />
						</div>
						<div class="col-xs-4">
						<!--<label for="show_node">Show Node Tab: </label>
						<input class="form-control" type="checkbox" id="show_node" data-toggle="tooltip" data-placement="right"
                                   title="Check for Node tab on click">-->
						<!--<input id="createbutton" type="button" class="btn btn-danger btn-md" value="Generate Network" onclick="showModal()" />-->
                        </div>
						<div class="col-xs-4">
						<input id="settingbutton" type="button" class="btn btn-danger btn-md" value="Update Network" onclick="displayNetworkSettings()" />
						</div>
						<br><span>Existing work will be lost!</span>
					</div>
                    <div class="form-group form-group-sm text-center">
                        <div class="col-md-6">
                            <a href="#" id="saveJson"><input type="button" class="btn btn-success btn-lg" value="Save JSON" /></a>
						</div>
                        <div class="col-md-6">
                            <a href="#" id="saveSVG"><input type="button" class="btn btn-success btn-lg" value="Save SVG" /></a>
						</div>
                    </div>
                </form>
            </div>

            <!-- Generate Tab -->
            <div id="gen_control" class="tab-pane fade">
				<h3>Generate Topology</h3>
                <form class="form-horizontal" role="form">
                    <div class="form-group form-group-sm">
                        <div class="col-xs-4">
                            <label for="graphname">Name</label>
                            <input type="text" class="form-control" id="graphname" value="New Network">
                        </div>
                        <div class="col-md-4">
                            <label for="graphwidth">Width</label>
                            <input style="width: 80px;" type="number" class="form-control" id="graphwidth" value="700" min="100" max="1000" onkeypress="return isNumber(event)" onchange="return updateBlockade(false)">
                         </div>
                         <div class="col-md-4">
                            <label for="graphheight">Height</label>
                            <input style="width: 80px;" type="number" class="form-control" id="graphheight"  value="500" min="100" max="1000" onkeypress="return isNumber(event)" onchange="updateBlockade(true)">
                        </div>
                    </div>
                    <div class="form-group form-group-sm">
                        <div class="col-xs-4">
                            <label for="rval">Comm. Range, R</label>
                            <input style="width: 80px;" type="number" class="form-control" id="rval" value="120" min="5" max="200" onkeypress="return isNumber(event)">
                        </div>
                        <div class="col-xs-4">
                            <label for="nodenum">Number of nodes</label>
                            <input style="width: 80px;" type="number" class="form-control" id="nodenum" value="50" min="3" max="500" onkeypress="return isNumber(event)">
                        </div>
                        <div class="col-xs-4">
                            <label for="randomfactor">Random Factor</label>
                            <input style="width: 80px;" type="number" class="form-control" id="randomfactor" value="10" min="0" max="20" onkeypress="return isNumber(event)">
                        </div>
                    </div>
                    <div class="form-group form-group-sm">
                        <div class="col-xs-4">
                            <label for="nodecolor">Color: </label>
                            <select class="form-control input-sm" id="nodecolor">
                                <!--<option value=-1>Auto</option>
                                <option value=-2>Color Pick</option>-->
                                <option value=0>Red</option>
                                <option value=1>Green</option>
                                <option value=2>Blue</option>
                                <option value=3>Yellow</option>
                                <option value=4>Black</option>
                                <option value=5>Gray</option>
                                <option value=6>Brown</option>
                                <option value=7>Cyan</option>
                                <option value=8>LightSalmon</option>
                                <option value='-1' selected>Random</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <label for="nodesize">Size:
                            <input style="width: 100px;" type=range id="size_range" min=5 max=20 value=10 step=1 onclick="getElementById('nodesize').value=this.value;">
							<input style="width: 50px;" type=number id="nodesize" value="10" min="5" max="20" onclick="getElementById('size_range').value=this.value;">
							</label>
                        </div>
                        <div class="col-xs-4">
                            <label for="nodeshape">Shape: </label>
                            <select class="form-control input-sm" id="nodeshape">
                                <option value='square'>Square</option>
                                <option value='circle'>Circle</option>
                                <option value='' selected>Random</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-xs-4">
                            <label for="holeradius">Obstacle. Range, R</label>
                            <input style="width: 80px;" type="number" class="form-control" id="holeradius" value="120" min="5" max="200" onkeypress="return isNumber(event)">
                        </div>
                        <div class="col-xs-4">
                            <label for="holeradius">Clear obstacles</label>
                            <input id="loadbutton" type="button" class="btn btn-danger btn-md" value="Clear" onclick="updateBlockade()" />
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-xs-4">
                            <label for="nodeshape">Obstacle Locations: (click below)</label>
                            <div class="col-md-12 obstacle-map">
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-sm">
                        <div class="col-md-12">
                            <a href="#" id="generateShow"><input type="button" class="btn btn-success btn-lg" value="Generate" onclick="generateFromForm()"/></a>
						</div>
                     </div>
                </form>
            </div>

             <!-- Node Tab -->
            <div id="node_control" class="tab-pane fade">
				<h3>Node Settings</h3>
                <form class="form-horizontal" role="form">				
                    <div class="form-group form-group-sm">
					    <div class="col-xs-2">
						<label for="node_id">Id: </label>
						<span  id="node_id"> </span>
						</div>
                        <div class="col-xs-4">
                            <label for="node_name">Name: </label> 
                        	<input style="width: 80px;" type=text id="node_name" value="" >							
                        </div>
						<div class="col-xs-3">
                            <label for="node_x">x: </label>
                            <span style="width: 60px;" id="node_x"> </span>
							<!--<input style="width: 60px;" type="number" id="node_x" min=0 onkeypress="return isNumber(event)"/>-->
						</div>
						<div class="col-xs-3">
                            <label for="node_y">y: </label>
                            <span style="width: 60px;" id="node_y"> </span>
							<!--<input style="width: 60px;" type="number" id="node_y" min=0 onkeypress="return isNumber(event)"/>-->
						</div>						
					</div>	
					<div class="form-group form-group-sm">
                        <div class="col-xs-4">
                            <label for="node_color">Color: </label>
                            <select class="form-control input-sm" id="node_color">
                                <!--<option value=-1>Auto</option>
                                <option value=-2>Color Pick</option>-->
                                <option value=0>Red</option>
                                <option value=1>Green</option>
                                <option value=2>Blue</option>
                                <option value=3>Yellow</option>
                                <option value=4>Black</option>
                                <option value=5>Gray</option>
                                <option value=6>Brown</option>
                                <option value=7>Cyan</option>
                                <option value=8>LightSalmon</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <label for="node_size">Size:
                            <input style="width: 100px;" type=range id="node_size_range" min=5 max=20 value=10 step=1 
							onclick="getElementById('node_size').value=this.value;">
							<input style="width: 50px;" type=number id="node_size" value="10" min="5" max="20" 
							onclick="getElementById('node_size_range').value=this.value;">
							</label>
                        </div>
                        <div class="col-xs-4">
                            <label for="node_shape">Shape: </label>
                            <select class="form-control input-sm" id="node_shape">
                                <option value='square'>Square</option>
                                <option value='circle'>Circle</option>
                            </select>
                        </div>
					</div>
                    <div class="form-group form-group-sm text-center">
                        <div class="col-md-6">
                            <a href="#" id="update_node"><input type="button" class="btn btn-success btn-lg" value="Update Node" onclick="setNode(0);"/></a>
						</div>
                        <div class="col-md-6">
                            <a href="#" id="add_node"><input type="button" class="btn btn-success btn-lg disabled" value="Add Node" onclick="setNode(1);" /></a>
						</div>
                    </div>					
				</form>
            </div>
            <!-- Info Tab -->
            <div id="infodiv" class="tab-pane fade"></div>			

        </div>

        <!--<div id='reportdiv' style="margin-right:5px; height:98%; overflow: auto"></div>-->
    </div>
</div>


<!-- This is a graph settings modal -->
<div class="modal fade" id="graphSettingsModal" tabindex="-1" role="dialog" aria-labelledby="myFilePickerModal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="graphSettings">Graph Settings</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-2"></div>
                    <div class="col-md-8">
                        <form class="graph-selection">
                        </form>
                    </div>
                    <div class="col-md-2"></div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
               <!-- <button type="button" class="btn btn-danger" onclick="clearpane()" data-dismiss="modal">Clear Graph
                </button> -->
                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="updateNetworkSettings()">
                    Save Settings
                </button>
            </div>
        </div>
    </div>
</div>

<!-- This is a file picker modal -->
<div class="modal fade" id="filePickerModal" tabindex="-1" role="dialog" aria-labelledby="myFilePickerModal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Load JSON</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-6">
                        <h4>From your PC</h4>
                        <input type='file' id='fileinput'>
                    </div>

                    <div class="col-md-6">
                        <h4>From our servers</h4>
                        <div>
                            <div class="btn-group">
                                <button type="button" class="btn btn-default dropdown-toggle form-control"
                                        data-toggle="dropdown">
                                    <span data-bind="label" id="data-file-label">Select One</span>&nbsp;<span
                                        class="caret"></span>
                                </button>
                                <ul class="dropdown-menu server-selection" role="menu">
                                </ul>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" onclick="loadFile()">Load Network</button>
            </div>
        </div>
    </div>
</div>

<!-- External Resources -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.9/d3.min.js"></script>
<script src="resources/jsnetworkx.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="resources/ie10-viewport-bug-workaround.js"></script>

<script src="src/fileSaver.js" type="text/javascript"></script>
<script src="src/generator.js"></script>
<script src="src/networkData.js"></script>
<script src="src/topology.js"></script>
<script src="src/filePicker.js"></script>
<script src="src/setPane.js"></script>
<script src="src/default.js" type="text/javascript"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-75796158-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
